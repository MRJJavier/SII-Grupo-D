CREATE TABLE ACTIVIDAD (CODIGOACTIVIDAD BIGINT NOT NULL, DiscrCOL VARCHAR(31), DESCRIPCION VARCHAR(255) NOT NULL, NOMBREACTIVIDAD VARCHAR(255) NOT NULL, NUMHORAS INTEGER NOT NULL, NOMBREONG_NIF VARCHAR(255), PRIMARY KEY (CODIGOACTIVIDAD))
CREATE TABLE FORMATIVA (CODIGOACTIVIDAD BIGINT NOT NULL, RAMADEESTUDIO VARCHAR(255) NOT NULL, PRIMARY KEY (CODIGOACTIVIDAD))
CREATE TABLE VOLUNTARIADO (CODIGOACTIVIDAD BIGINT NOT NULL, NUMERODECREDITOS INTEGER NOT NULL, PRIMARY KEY (CODIGOACTIVIDAD))
CREATE TABLE USUARIO (DNI VARCHAR(255) NOT NULL, DiscrCOL VARCHAR(31), APELLIDOS VARCHAR(255) NOT NULL, COMPETENCIAS VARCHAR(255) NOT NULL, CONTRASENYA VARCHAR(255) NOT NULL, DIRECCION VARCHAR(255) NOT NULL, EMAIL VARCHAR(255) NOT NULL, FECHANACIMIENTO DATE NOT NULL, NOMBRE VARCHAR(255) NOT NULL, PROFESION VARCHAR(255) NOT NULL, TELEFONO VARCHAR(255) NOT NULL, PRIMARY KEY (DNI))
CREATE TABLE ALUMNO (DNI VARCHAR(255) NOT NULL, CARRERA VARCHAR(255) NOT NULL, CURSO VARCHAR(255) NOT NULL, DISPONIBILIDAD VARCHAR(255) NOT NULL, INTERESES VARCHAR(255) NOT NULL, PRIMARY KEY (DNI))
CREATE TABLE PROFESOR (DNI VARCHAR(255) NOT NULL, DISPONIBILIDAD VARCHAR(255) NOT NULL, RAMAESTUDIO VARCHAR(255) NOT NULL, PRIMARY KEY (DNI))
CREATE TABLE INFORME (CODINFORME BIGINT UNIQUE, CONTENIDOINFORME VARCHAR(255) NOT NULL, FECHAINFORME DATE NOT NULL, VALORACIONACTIVIDAD VARCHAR(255) NOT NULL, VALORACIONUSUARIO VARCHAR(255) NOT NULL, CODACTIVIDAD_CODIGOACTIVIDAD BIGINT NOT NULL, CODUSUARIO_DNI VARCHAR(255) NOT NULL, PRIMARY KEY (CODACTIVIDAD_CODIGOACTIVIDAD, CODUSUARIO_DNI))
CREATE TABLE ONG (NIF VARCHAR(255) NOT NULL, DIRECCION VARCHAR(255) NOT NULL, CP INTEGER NOT NULL, EMAIL VARCHAR(255) NOT NULL, LOCALIDAD VARCHAR(255) NOT NULL, NOMBREORG VARCHAR(255) NOT NULL, TLF INTEGER NOT NULL, PRIMARY KEY (NIF))
CREATE TABLE SOLICITUDENTRADA (CODIGOSOLICITUD INTEGER UNIQUE, FECHADESOLICITUD DATE NOT NULL, CODACTIVIDAD_CODIGOACTIVIDAD BIGINT NOT NULL, CODALUMNO_DNI VARCHAR(255) NOT NULL, PRIMARY KEY (CODACTIVIDAD_CODIGOACTIVIDAD, CODALUMNO_DNI))
CREATE TABLE PETICIONACTIVIDAD (DESCRIPCIONACTI VARCHAR(255) NOT NULL, NOMBREACTIVIDAD VARCHAR(255) NOT NULL, PETICIONACTIVIDAD INTEGER UNIQUE, NOMBREONG_NIF VARCHAR(255) NOT NULL, PROFESORID_DNI VARCHAR(255) NOT NULL, PRIMARY KEY (NOMBREONG_NIF, PROFESORID_DNI))
CREATE TABLE ALUMNO_PART_ACT (actividad_fk BIGINT NOT NULL, alumno_fk VARCHAR(255) NOT NULL, PRIMARY KEY (actividad_fk, alumno_fk))
CREATE TABLE PROF_COORD_FORM (formativa_fk BIGINT NOT NULL, profesor_fk VARCHAR(255) NOT NULL, PRIMARY KEY (formativa_fk, profesor_fk))
CREATE TABLE PROF_PART_VOL (voluntariado_fk BIGINT NOT NULL, profesor_fk VARCHAR(255) NOT NULL, PRIMARY KEY (voluntariado_fk, profesor_fk))
CREATE TABLE USER_ONG (usuario_fk VARCHAR(255) NOT NULL, ONG_fk VARCHAR(255) NOT NULL, PRIMARY KEY (usuario_fk, ONG_fk))
ALTER TABLE ACTIVIDAD ADD CONSTRAINT CTVIDADNMBREONGNIF FOREIGN KEY (NOMBREONG_NIF) REFERENCES ONG (NIF)
ALTER TABLE FORMATIVA ADD CONSTRAINT FRMTVACDGACTIVIDAD FOREIGN KEY (CODIGOACTIVIDAD) REFERENCES ACTIVIDAD (CODIGOACTIVIDAD)
ALTER TABLE VOLUNTARIADO ADD CONSTRAINT VLNTRDOCDGCTIVIDAD FOREIGN KEY (CODIGOACTIVIDAD) REFERENCES ACTIVIDAD (CODIGOACTIVIDAD)
ALTER TABLE ALUMNO ADD CONSTRAINT FK_ALUMNO_DNI FOREIGN KEY (DNI) REFERENCES USUARIO (DNI)
ALTER TABLE PROFESOR ADD CONSTRAINT FK_PROFESOR_DNI FOREIGN KEY (DNI) REFERENCES USUARIO (DNI)
ALTER TABLE INFORME ADD CONSTRAINT NFORMECDUSUARIODNI FOREIGN KEY (CODUSUARIO_DNI) REFERENCES USUARIO (DNI)
ALTER TABLE INFORME ADD CONSTRAINT NFRCDCTVDDCDGCTVDD FOREIGN KEY (CODACTIVIDAD_CODIGOACTIVIDAD) REFERENCES ACTIVIDAD (CODIGOACTIVIDAD)
ALTER TABLE SOLICITUDENTRADA ADD CONSTRAINT SLCCDCTVDDCDGCTVDD FOREIGN KEY (CODACTIVIDAD_CODIGOACTIVIDAD) REFERENCES ACTIVIDAD (CODIGOACTIVIDAD)
ALTER TABLE SOLICITUDENTRADA ADD CONSTRAINT SLCTDNTRADACDLMNDN FOREIGN KEY (CODALUMNO_DNI) REFERENCES USUARIO (DNI)
ALTER TABLE PETICIONACTIVIDAD ADD CONSTRAINT PTCNCTVDADPRFSRDDN FOREIGN KEY (PROFESORID_DNI) REFERENCES USUARIO (DNI)
ALTER TABLE PETICIONACTIVIDAD ADD CONSTRAINT PTCNCTVDADNMBRNGNF FOREIGN KEY (NOMBREONG_NIF) REFERENCES ONG (NIF)
ALTER TABLE ALUMNO_PART_ACT ADD CONSTRAINT LMNPARTACTctvdadfk FOREIGN KEY (actividad_fk) REFERENCES ACTIVIDAD (CODIGOACTIVIDAD)
ALTER TABLE ALUMNO_PART_ACT ADD CONSTRAINT LMNOPARTACTlumnofk FOREIGN KEY (alumno_fk) REFERENCES USUARIO (DNI)
ALTER TABLE PROF_COORD_FORM ADD CONSTRAINT PRFCRDFORMprfsorfk FOREIGN KEY (profesor_fk) REFERENCES USUARIO (DNI)
ALTER TABLE PROF_COORD_FORM ADD CONSTRAINT PRFCRDFORMfrmtvafk FOREIGN KEY (formativa_fk) REFERENCES ACTIVIDAD (CODIGOACTIVIDAD)
ALTER TABLE PROF_PART_VOL ADD CONSTRAINT PRFPRTVLvlntradofk FOREIGN KEY (voluntariado_fk) REFERENCES ACTIVIDAD (CODIGOACTIVIDAD)
ALTER TABLE PROF_PART_VOL ADD CONSTRAINT PRFPARTVOLprfsorfk FOREIGN KEY (profesor_fk) REFERENCES USUARIO (DNI)
ALTER TABLE USER_ONG ADD CONSTRAINT USER_ONGusuario_fk FOREIGN KEY (usuario_fk) REFERENCES USUARIO (DNI)
ALTER TABLE USER_ONG ADD CONSTRAINT FK_USER_ONG_ONG_fk FOREIGN KEY (ONG_fk) REFERENCES ONG (NIF)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(15), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
